/* Imports Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variables for spacing */
:root {
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 24px;
  --space-6: 32px;
  --space-7: 40px;
  --space-8: 48px;
  --space-9: 64px;
  --space-10: 80px;
  --space-11: 96px;
}

/* Base styles */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  overflow-x: hidden;
  width: 100%;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: #F8FAFC;
  color: #64748B;
  line-height: 1.6;
  overflow-x: hidden;
  width: 100%;
  margin: 0;
  padding: 0;
}

/* Prose (typography) tuning for better fluidity */
.prose {
  max-width: none;
}
.prose * {
  max-width: 100%; /* empêche tout dépassement horizontal dans le contenu riche */
}
.prose h2, .prose h3 {
  scroll-margin-top: 6rem;
}
.prose h2 { /* clearer rhythm for sections */
  margin-top: 2.5rem;
}
.prose h3 {
  margin-top: 2rem;
}
.prose table {
  display: block; /* enables horizontal scroll on small screens */
  width: 100%;
  overflow-x: auto;
  white-space: nowrap;
  border-collapse: collapse;
}
.prose pre, .prose code {
  white-space: pre-wrap;
  word-break: break-word;
}
.prose th, .prose td {
  border: 1px solid #E2E8F0; /* neutral-200 */
  padding: 0.75rem 1rem;
}
.prose thead th {
  background-color: #F8FAFC; /* neutral-50 */
  font-weight: 600;
}

/* Typography classes */
.text-display {
  font-size: clamp(2.5rem, 8vw, 4.5rem);
  font-weight: 800;
  line-height: 1.1;
  letter-spacing: -0.02em;
}

.text-h1 {
  font-size: clamp(2rem, 6vw, 3rem);
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.01em;
}

.text-h2 {
  font-size: clamp(1.5rem, 4vw, 2.25rem);
  font-weight: 600;
  line-height: 1.3;
  letter-spacing: -0.005em;
}

.text-h3 {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 1.5rem;
  font-weight: 500;
  line-height: 1.4;
}

.text-body-large {
  font-size: 1.125rem;
  font-weight: 400;
  line-height: 1.7;
}

.text-body-regular {
  font-size: 1rem;
  font-weight: 400;
  line-height: 1.6;
}

.text-body-small {
  font-size: 0.875rem;
  font-weight: 400;
  line-height: 1.5;
  letter-spacing: 0.01em;
}

/* Button component styles */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center;
    @apply font-semibold text-body-regular;
    @apply px-6 py-3 rounded-lg;
    @apply transition-all duration-200 ease-in-out;
    @apply cursor-pointer border-none;
    letter-spacing: -0.01em;
  }

  .btn-primary {
    @apply bg-primary text-white;
    @apply shadow-btn-primary;
  }

  .btn-primary:hover {
    @apply bg-primary-800 shadow-btn-primary-hover;
    transform: translateY(-2px);
  }

  .btn-secondary {
    @apply bg-secondary text-white;
    @apply shadow-btn-primary;
  }

  .btn-secondary:hover {
    @apply bg-secondary-600 shadow-btn-primary-hover;
    transform: translateY(-2px);
  }

  .btn-outline {
    @apply bg-transparent text-primary border-2 border-primary;
  }

  .btn-outline:hover {
    @apply bg-primary text-white;
  }

  .btn-alert {
    @apply bg-alert text-white;
    @apply shadow-btn-primary;
  }

  .btn-alert:hover {
    @apply bg-alert-600 shadow-btn-primary-hover;
    transform: translateY(-2px);
  }

  /* Card component */
  .card {
    @apply bg-white rounded-lg shadow-card;
    @apply p-6 transition-all duration-200;
  }

  .card:hover {
    @apply shadow-card-hover;
  }

  /* Container utilities */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    width: 100%;
  }

  .section-padding {
    @apply py-16 lg:py-24;
  }
  
  /* Responsive safety utilities */
  .safe-area {
    width: 100%;
    overflow-x: hidden;
  }
  
  /* Prevent horizontal scroll */
  .no-scroll-x {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Animations */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }

  .animate-slide-up {
    animation: slideUp 0.5s ease-out;
  }
}

/* Utility classes for monospace text */
.font-mono {
  font-family: 'IBM Plex Mono', Menlo, Monaco, monospace;
}

/* Focus styles */
*:focus {
  outline: 2px solid #0EA5E9;
  outline-offset: 2px;
}

/* Smooth transitions for all interactive elements */
a, button, input, textarea, select {
  transition: all 0.2s ease-in-out;
}

/* Responsive safety styles */
img, video, iframe {
  max-width: 100%;
  height: auto;
}

/* Prevent text overflow on small screens */
p, span, div {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Ensure grid and flex items don't overflow */
.grid, .flex {
  min-width: 0;
}

/* Print styles */
@media print {
  .no-print {
    display: none;
  }
}

/* Mobile-specific responsive fixes */
@media (max-width: 640px) {
  .container-custom {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  /* Ensure no horizontal overflow on mobile */
  * {
    max-width: 100%;
  }
  
  /* Prevent long URLs or text from causing overflow */
  pre, code {
    white-space: pre-wrap;
    word-break: break-all;
  }
}
